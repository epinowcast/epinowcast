% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess.R
\name{enw_filter_report_dates_by_min}
\alias{enw_filter_report_dates_by_min}
\title{Filter observations where reference date precedes
the earliest report date}
\usage{
enw_filter_report_dates_by_min(obs, by = NULL, copy = TRUE)
}
\arguments{
\item{obs}{A \code{data.frame} with \code{reference_date} and
\code{report_date} columns.}

\item{by}{A character vector describing the stratification of
observations. This defaults to no grouping. This should be used
when modelling multiple time series in order to identify them for
downstream modelling}

\item{copy}{Should \code{obs} be copied (default) or modified
in place?}
}
\value{
A \code{data.table} filtered so that each
\code{reference_date} is on or after the minimum \code{report_date}
in its group. Rows with \code{NA} \code{reference_date} are kept.
}
\description{
Removes observations where the \code{reference_date}
is earlier than the minimum \code{report_date} within each group.
Rows with missing \code{reference_date} are retained.
This is useful for ensuring that observations are only
included from the first available report date onwards.
}
\examples{
library(data.table)
obs <- data.table(
  reference_date = as.IDate(c(
    "2021-10-01", "2021-10-02", "2021-10-03"
  )),
  report_date = as.IDate(c(
    "2021-10-02", "2021-10-02", "2021-10-03"
  ))
)
# The first row has reference_date before the minimum
# report_date, so it is removed
enw_filter_report_dates_by_min(obs)
}
\seealso{
Preprocessing functions
\code{\link{enw_add_delay}()},
\code{\link{enw_add_max_reported}()},
\code{\link{enw_add_metaobs_features}()},
\code{\link{enw_assign_group}()},
\code{\link{enw_complete_dates}()},
\code{\link{enw_construct_data}()},
\code{\link{enw_extend_date}()},
\code{\link{enw_filter_delay}()},
\code{\link{enw_filter_reference_dates}()},
\code{\link{enw_filter_report_dates}()},
\code{\link{enw_flag_observed_observations}()},
\code{\link{enw_impute_na_observations}()},
\code{\link{enw_latest_data}()},
\code{\link{enw_metadata}()},
\code{\link{enw_metadata_delay}()},
\code{\link{enw_missing_reference}()},
\code{\link{enw_preprocess_data}()},
\code{\link{enw_reporting_triangle}()},
\code{\link{enw_reporting_triangle_to_long}()}
}
\concept{preprocess}
