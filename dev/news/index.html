<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • epinowcast</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="package.epinowcast.org/reference/figures/README-nowcast-1.png"><meta property="og:image:alt" content="An R package for flexible hierarchical nowcasting"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@seabbs"><meta name="twitter:site" content="@seabbs"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">epinowcast</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.3.2000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/epinowcast.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Model details</h6>
    <a class="dropdown-item" href="../articles/model.html">Model definition and implementation</a>
    <a class="dropdown-item" href="../articles/distributions.html">Discretised distributions</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Case studies</h6>
    <a class="dropdown-item" href="../articles/germany-age-stratified-nowcasting.html">Hierarchical nowcasting of age stratified COVID-19 hospitalisations in Germany</a>
    <a class="dropdown-item" href="../articles/single-timeseries-rt-estimation.html">Estimating the effective reproduction number in real-time for a single timeseries with reporting delays</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/epinowcast/epinowcast/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/epinowcast/epinowcast/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3" id="epinowcast-023">epinowcast 0.2.3<a class="anchor" aria-label="anchor" href="#epinowcast-023"></a></h2>
<p>This release is in development and not yet ready for production use.</p>
<div class="section level3">
<h3 id="contributors-0-2-3">Contributors<a class="anchor" aria-label="anchor" href="#contributors-0-2-3"></a></h3>
<p>@medewitt, <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a>, <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>, <a href="https://github.com/kathsherratt" class="external-link">@kathsherratt</a>, <a href="https://github.com/natemcintosh" class="external-link">@natemcintosh</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a> contributed code to this release.</p>
<p>@adrian-lison, <a href="https://github.com/bisaloo" class="external-link">@bisaloo</a>, <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>, <a href="https://github.com/natemcintosh" class="external-link">@natemcintosh</a>, and <a href="https://github.com/seabbs" class="external-link">@seabbs</a> reviewed pull requests for this release.</p>
<p>@jbracher, <a href="https://github.com/medewitt" class="external-link">@medewitt</a>, <a href="https://github.com/kathsherratt" class="external-link">@kathsherratt</a>, <a href="https://github.com/zsusswein" class="external-link">@zsusswein</a>, <a href="https://github.com/TimTaylor" class="external-link">@TimTaylor</a>, <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a>, <a href="https://github.com/natemcintosh" class="external-link">@natemcintosh</a>, <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>, <a href="https://github.com/bisaloo" class="external-link">@bisaloo</a>, <a href="https://github.com/parksw3" class="external-link">@parksw3</a>, <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>, and <a href="https://github.com/seabbs" class="external-link">@seabbs</a> reported bugs, made suggestions, or contributed to discussions that led to improvements in this release.</p>
</div>
<div class="section level3">
<h3 id="bugs-0-2-3">Bugs<a class="anchor" aria-label="anchor" href="#bugs-0-2-3"></a></h3>
<ul><li>Fixed a bug identified by <a href="https://github.com/jbracher" class="external-link">@jbracher</a> where the <code><a href="../reference/enw_expectation.html">enw_expectation()</a></code> module was not appropriately defining initial conditions when multiple groups were present. This issue was related to recent changes in <code>cmdstan 2.32.1</code> and is required in order to use versions of <code>cmdstan</code> beyond <code>2.32.0</code> with models that contain multiple time series. See <a href="https://github.com/epinowcast/epinowcast/issues/282" class="external-link">#282</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Fixed a few typos in the model vignette. See <a href="https://github.com/epinowcast/epinowcast/issues/292" class="external-link">#292</a> by <a href="https://github.com/medewitt" class="external-link">@medewitt</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Fixed a bug where snapshots (i.e. as returned as metadata in <code><a href="../reference/enw_preprocess_data.html">enw_preprocess_data()</a></code>) were defined based on report vs reference date. This won’t have impacted most usage but was a problem when trying to fit a model to retrospective (and so completely reported) data. See <a href="https://github.com/epinowcast/epinowcast/issues/312" class="external-link">#312</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Fixed a bug where a non-<code>data.table</code> passed to <code>enw_quantile_to_long()</code> could throw an error. See <a href="https://github.com/epinowcast/epinowcast/issues/324" class="external-link">#324</a> by <a href="https://github.com/natemcintosh" class="external-link">@natemcintosh</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Fixed a bug where <code><a href="../reference/enw_aggregate_cumulative.html">enw_aggregate_cumulative()</a></code> initialised its time step from the first reference date + 1 day rather than the first reference date. See <a href="https://github.com/epinowcast/epinowcast/issues/336" class="external-link">#336</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Fixed a bug in <code>enw_filter_reference_dates</code> when using <code>remove_days</code> on data with missing reference dates. See <a href="https://github.com/epinowcast/epinowcast/issues/351" class="external-link">#351</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Resolved code quality issues related to the use of <code>%in%</code> with a scale on the right hand side and other similar issues. See <a href="https://github.com/epinowcast/epinowcast/issues/382" class="external-link">#382</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a> and <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="package-0-2-3">Package<a class="anchor" aria-label="anchor" href="#package-0-2-3"></a></h3>
<ul><li>Fixed some typos in <code>single-timeseries-rt-estimation.Rmd</code>. The <code>WORDLIST</code> used by spelling has also been updated to eliminate false positives. Future typos will now generate an error in the continuous integration check so that we can catch them as early as possible. See <a href="https://github.com/epinowcast/epinowcast/issues/341" class="external-link">#341</a> by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Added extra checks in continuous integration tests: we now test that partial matching is not used and that global state is left unchanged (or restored correctly). See <a href="https://github.com/epinowcast/epinowcast/issues/338" class="external-link">#338</a> by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Added additional tests to ensure that the <code><a href="../reference/enw_expectation.html">enw_expectation()</a></code> module is appropriately defining initial conditions when multiple groups are present. See <a href="https://github.com/epinowcast/epinowcast/issues/282" class="external-link">#282</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added an integration test for <code><a href="../reference/epinowcast.html">epinowcast()</a></code> to check models with multiple time series can be fit as expected on example data. See <a href="https://github.com/epinowcast/epinowcast/issues/282" class="external-link">#282</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added a <code>{touchstone}</code> benchmark that includes multiple time-series to ensure that this functionality is appropriately tested. See <a href="https://github.com/epinowcast/epinowcast/issues/282" class="external-link">#282</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added the <code>merge_group</code> option to all required GitHub Actions. This enables the use of a merge queue for pull requests. See <a href="https://github.com/epinowcast/epinowcast/issues/300" class="external-link">#300</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added an internal <code><a href="../reference/check_group_date_unique.html">check_group_date_unique()</a></code> function which ensures that user supplied groups result in unique combinations of group and dates. This function is used in <code><a href="../reference/enw_preprocess_data.html">enw_preprocess_data()</a></code> and <code><a href="../reference/enw_complete_dates.html">enw_complete_dates()</a></code> to ensure that the user supplied groups are valid. See <a href="https://github.com/epinowcast/epinowcast/issues/295" class="external-link">#295</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Added support for non-daily reference date models (i.e., process models). For example, this allows modelling weekly data as weekly. This may be desirable when delays are very long, when computational resources are limited, or it is not possible to specify a sufficiently flexible daily model to account for observed reporting patterns in either reference or report dates. As the model is unit less this entails no changes to the model itself. See <a href="https://github.com/epinowcast/epinowcast/issues/303" class="external-link">#303</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added a new helper function <code><a href="../reference/simulate_double_censored_pmf.html">simulate_double_censored_pmf()</a></code> which helps users define “correct” probability mass functions for double censored delays based on work in <code>epidist</code> by <a href="https://github.com/parksw3" class="external-link">@parksw3</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>. Note this function is likely to be spun out into its own package in the near future. See <a href="https://github.com/epinowcast/epinowcast/issues/312" class="external-link">#312</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added a <code>min_reference_date</code> argument to <code><a href="../reference/enw_aggregate_cumulative.html">enw_aggregate_cumulative()</a></code> to allow users to specify the minimum reference date to include in the output. This is useful when users want to aggregate to a timestep with a specified initialisation date that is not the default. For example if users data is already reported with a weekly cadence they would use <code>min(data$report_date) + 1</code> to preserve that timestep. See <a href="https://github.com/epinowcast/epinowcast/issues/340" class="external-link">#340</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/natemcintosh" class="external-link">@natemcintosh</a>.</li>
<li>Added support to <code><a href="../reference/enw_complete_dates.html">enw_complete_dates()</a></code> for <code>min_date</code> and <code>max_date</code> arguments. These arguments allow users to specify the minimum and maximum dates to include in the output. This may be useful to users who want to ensure that their data is complete for a specified time period. See <a href="https://github.com/epinowcast/epinowcast/issues/340" class="external-link">#340</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/natemcintosh" class="external-link">@natemcintosh</a>.</li>
<li>Added a new helper function <code><a href="../reference/enw_one_hot_encode_feature.html">enw_one_hot_encode_feature()</a></code> for one hot encoding variables and binding them into the original data. This is useful when users want to include parts of variables in their models as binary indicators - for example giving a specific delay its own effect. See <a href="https://github.com/epinowcast/epinowcast/issues/348" class="external-link">#348</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Enabled compiling with multithreading by default as this was found to cause no deterioration in performance even with 1 thread per chain. The likelihood calculation is now no longer parallelised when <code>threads_per_chain = 1</code> which should offer a small performance improvement. See <a href="https://github.com/epinowcast/epinowcast/issues/366" class="external-link">#366</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="model-0-2-3">Model<a class="anchor" aria-label="anchor" href="#model-0-2-3"></a></h3>
<ul><li>Update the internal handling of PMF discretisation to assume a uniform window of two days centred on the delay of interest rather than a window of one day starting on the delay of interest. This better approximates the underlying continuous distribution with primary and secondary event censoring. Due to this change models may perform slightly differently between versions and any delay distribution estimates will have means that are half a day longer (note this corrects the previous bias). See <a href="https://github.com/epinowcast/epinowcast/issues/288" class="external-link">#288</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Updated the default prior for initialising the model to include the ascertainment rate which is inferred from the latent reporting delay distribution as this can be an improper probability mass function (i.e. one that does not sum to 1). See <a href="https://github.com/epinowcast/epinowcast/issues/312" class="external-link">#312</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added support for non-parametric reference date models as well as mixed models with both parametric and non-parametric reference date models. This enables the use of popular models such as the discrete time cox proportional hazards model. See <a href="https://github.com/epinowcast/epinowcast/issues/313" class="external-link">#313</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added support for missing data (excluding in the missing reference date model) using the <code>observation_indicator</code> argument to <code><a href="../reference/enw_obs.html">enw_obs()</a></code>. Support was also added to <code><a href="../reference/enw_complete_dates.html">enw_complete_dates()</a></code> to flag missing data and as part of this new helper functions (<code><a href="../reference/enw_flag_observed_observations.html">enw_flag_observed_observations()</a></code> and <code><a href="../reference/enw_impute_na_observations.html">enw_impute_na_observations()</a></code>) were also added. This support is likely most useful when used in conjunction to a known reporting structure. See <a href="https://github.com/epinowcast/epinowcast/issues/327" class="external-link">#327</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added support for using a maximum delay that is longer than the largest observed delay in the data. This may be useful at the start of an outbreak, when the data is sparse and the user expects delays longer than what has been observed so far. Note that because this requires extrapolating the delay distribution beyond the support of the data, users should be cautious when using this feature. A new example, <code>inst/examples/germany_max_delay_greater_than_data.R</code>, has been added to demonstrate this feature. See # by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-2-3">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-2-3"></a></h3>
<ul><li>Updated the distributions vignette to match the updated handling of discretisation. See <a href="https://github.com/epinowcast/epinowcast/issues/288" class="external-link">#288</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Updated the use of the <code><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation()</a></code> function in the README so that the command is shown to users and the output is treated like normal text. See <a href="https://github.com/epinowcast/epinowcast/issues/272" class="external-link">#272</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added a vignette walking through how to estimate the effective reproduction number in real-time (and comparing this to retrospective estimates) on a data source that is right truncated. See <a href="https://github.com/epinowcast/epinowcast/issues/312" class="external-link">#312</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Switched to using <code>bookdown</code> for <code>pkgdown</code> vignettes and moved to the <code>flatly</code> theme for <code>pkgdown</code> rather than the <code>preferably</code> theme. See <a href="https://github.com/epinowcast/epinowcast/issues/312" class="external-link">#312</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Updated the README to include the non-parametric reference date model as an option and also added a new example showing how to use this model. See <a href="https://github.com/epinowcast/epinowcast/issues/313" class="external-link">#313</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added a new example showcasing how to fit a model to data reported weekly with a 3 day delay until any reports are non-zero with a weekly process model and a mixture of a parametric and non-parametric reference date model. See <a href="https://github.com/epinowcast/epinowcast/issues/348" class="external-link">#348</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Split README to focus on package-level issues and moved quick start into a getting started vignette. See <a href="https://github.com/epinowcast/epinowcast/issues/375" class="external-link">#375</a> by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a> and reviewed by <a href="https://github.com/jamesmbaazam" class="external-link">@jamesmbaazam</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Added code in the <code>CITATION</code> file to automatically pull relevant citation fields from the <code>DESCRIPTION</code> file. Also added a GitHub Actions workflow to auto-generate a <code>citation.cff</code> file whenever <code>CITATION</code> or <code>DESCRIPTION</code> change. This way, all three files will always be up to date. See <a href="https://github.com/epinowcast/epinowcast/issues/369" class="external-link">#369</a> by <a href="https://github.com/jamesmbazam" class="external-link">@jamesmbazam</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Removed the reference in the pull request template to updating the development version as this has been found to cause issues when multiple pull requests are open at once. See <a href="https://github.com/epinowcast/epinowcast/issues/391" class="external-link">#391</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="depreciations-0-2-3">Depreciations<a class="anchor" aria-label="anchor" href="#depreciations-0-2-3"></a></h3>
<ul><li>
<code>enw_delay_filter()</code>: Deprecated with a warning in favour of <code><a href="../reference/enw_filter_delay.html">enw_filter_delay()</a></code>. This renaming is to better reflect the function’s purpose. See <a href="https://github.com/epinowcast/epinowcast/issues/365" class="external-link">#365</a> by <a href="https://github.com/kathsherratt" class="external-link">@kathsherratt</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="epinowcast-022">epinowcast 0.2.2<a class="anchor" aria-label="anchor" href="#epinowcast-022"></a></h2>
<p>This is a minor release that fixes a bug in the handling of optional initial conditions that was introduced by a recent change in <code>cmdstan 2.32.1</code>. Upgrading is recommended for all users who wish to use versions of <code>cmdstan</code> beyond <code>2.32.0</code>. In addition to fixing this issue, the release also includes some minor documentation and vignette improvements, along with enhancements in input checking.</p>
<div class="section level3">
<h3 id="contributors-0-2-2">Contributors<a class="anchor" aria-label="anchor" href="#contributors-0-2-2"></a></h3>
<p>@sbfnk and <a href="https://github.com/seabbs" class="external-link">@seabbs</a> contributed code to this release.</p>
<p>@seabbs reviewed pull requests for this release.</p>
<p>@sbfnk and <a href="https://github.com/seabbs" class="external-link">@seabbs</a> reported bugs, made suggestions, or contributed to discussions that led to improvements in this release.</p>
</div>
<div class="section level3">
<h3 id="bugs-0-2-2">Bugs<a class="anchor" aria-label="anchor" href="#bugs-0-2-2"></a></h3>
<ul><li>Improved the handling of optional initial conditions so that they are consistently passed as arrays to stan as required by <code>cmdstan 2.32.1</code>. This fix is required in order to use versions of <code>cmdstan</code> beyond <code>2.32.0</code>. See <a href="https://github.com/epinowcast/epinowcast/issues/276" class="external-link">#276</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
</ul></div>
<div class="section level3">
<h3 id="package-0-2-2">Package<a class="anchor" aria-label="anchor" href="#package-0-2-2"></a></h3>
<ul><li>Added input checking for <code>max_delay</code> in <code><a href="../reference/enw_preprocess_data.html">enw_preprocess_data()</a></code> to ensure that the maximum delay is greater than or equal to 1 and that it can be coerced to be an integer. See <a href="https://github.com/epinowcast/epinowcast/issues/274" class="external-link">#274</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-2-2">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-2-2"></a></h3>
<ul><li>Improved the discrete delay distributions vignette including escaping functions to improve readibility and right-closing discretised bins. See <a href="https://github.com/epinowcast/epinowcast/issues/275" class="external-link">#275</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Improved the documentation for <code>max_delay</code> in <code><a href="../reference/enw_preprocess_data.html">enw_preprocess_data()</a></code> and fixed a typo in the same documentation. See <a href="https://github.com/epinowcast/epinowcast/issues/274" class="external-link">#274</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="epinowcast-021">epinowcast 0.2.1<a class="anchor" aria-label="anchor" href="#epinowcast-021"></a></h2>
<p>In this release, we focused on improving the internal code structure, documentation, and development infrastructure of the package to make it easier to maintain and extend functionality in the future. We also fixed a number of bugs and made some minor improvements to the interface. These changes included extending test and documentation coverage across all package functions, improving internal data checking and internalization, and removing some deprecated functions.</p>
<p>While these changes are not expected to impact most users, we recommend that all users upgrade to this version. We also suggest that users who have fitted models with both random effects and random walks should refit these models and compare the output to previous fits in order to understand the impact of a bug in the specification of these models that was fixed in this release.</p>
<p>This release lays the groundwork for planned features in <a href="https://github.com/orgs/epinowcast/projects/1" class="external-link"><code>0.3.0</code></a> and <a href="https://github.com/orgs/epinowcast/projects/2" class="external-link"><code>0.4.0</code></a> including: support for non-parametric delays, non-daily data with a non-daily process model (i.e. weekly data with a weekly process model), additional flexibility specifying generation times and latent reporting delays, improved case studies, and adding support for forecasting.</p>
<p>Full details on the changes in this release can be found in the following sections or in the <a href="https://github.com/epinowcast/epinowcast/releases/tag/v0.2.1" class="external-link">GitHub release notes</a>. To see the development timeline of this release see the <a href="https://github.com/orgs/epinowcast/projects/3" class="external-link"><code>0.2.1</code> project</a>.</p>
<div class="section level3">
<h3 id="contributors-0-2-1">Contributors<a class="anchor" aria-label="anchor" href="#contributors-0-2-1"></a></h3>
<p>@adrian-lison, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>, <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>, <a href="https://github.com/FelixGuenther" class="external-link">@FelixGuenther</a>, <a href="https://github.com/Lnrivas" class="external-link">@Lnrivas</a>, <a href="https://github.com/seabbs" class="external-link">@seabbs</a>, <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a>, and <a href="https://github.com/jhellewell14" class="external-link">@jhellewell14</a> made code contributions to this release.</p>
<p>@pearsonca, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>, <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>, and <a href="https://github.com/seabbs" class="external-link">@seabbs</a> reviewed pull requests for this release.</p>
<p>@Gulfa, <a href="https://github.com/WardBrian" class="external-link">@WardBrian</a>, <a href="https://github.com/parkws3" class="external-link">@parkws3</a>, <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>, <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>, <a href="https://github.com/FelixGuenther" class="external-link">@FelixGuenther</a>, <a href="https://github.com/Lnrivas" class="external-link">@Lnrivas</a>, <a href="https://github.com/seabbs" class="external-link">@seabbs</a>, <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and <a href="https://github.com/jhellewell14" class="external-link">@jhellewell14</a> reported bugs, made suggestions, or contributed to discussions that led to improvements in this release.</p>
</div>
<div class="section level3">
<h3 id="potentially-breaking-changes-0-2-1">Potentially breaking changes<a class="anchor" aria-label="anchor" href="#potentially-breaking-changes-0-2-1"></a></h3>
<ul><li>
<code><a href="../reference/enw_add_pooling_effect.html">enw_add_pooling_effect()</a></code>: replaced <code>string</code> argument with <code>...</code> argument, to enable passing arbitrary arguments to the <code>finder_fn</code> argument. The same general usage is supported, but now e.g. the default argument to supply is <code>prefix = "somevalue"</code> vs <code>string = "somevalue"</code> and argument positions have changed. This function is primarily for internal use and we expect only a small subset of advanced users who are creating models outside the currently supported formula interface to be impacted See <a href="https://github.com/epinowcast/epinowcast/issues/222" class="external-link">#222</a> by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>
<code>enw_dates_to_factors()</code>: Deprecated and removed as no longer needed. We expect this function had little to no external use and so there should be little impact on users. See <a href="https://github.com/epinowcast/epinowcast/issues/216" class="external-link">#216</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="bugs-0-2-1">Bugs<a class="anchor" aria-label="anchor" href="#bugs-0-2-1"></a></h3>
<ul><li>Fixed a bug first highlighted by <a href="https://github.com/Gulfa" class="external-link">@Gulfa</a> in <a href="https://github.com/epinowcast/epinowcast/issues/166" class="external-link">#166</a> and localised during the investigation for <a href="https://github.com/epinowcast/epinowcast/issues/223" class="external-link">#223</a> where random effects and random walks were being improperly constructed in <code><a href="../reference/enw_formula.html">enw_formula()</a></code> so that their variances parameters were not shared between the correct parameters when used together. This only impacts models that used formulas with both random effects and random walks and for these models appears to have led to increased run-times, fitting issues, and potentially unreliable posterior estimates but to have had a less significant impact on actual nowcasts. We suggest refitting these models and comparing the output to previous fits in order to understand the impact on your usage. See <a href="https://github.com/epinowcast/epinowcast/issues/228" class="external-link">#228</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Fixed a bug in <code><a href="../reference/enw_replace_priors.html">enw_replace_priors()</a></code> where the function could not deal with <code>epinowcast</code> summarised posterior estimates due to the new use of the <code>pillar</code> class. Added tests to catch if this issue reoccurs in the future. See <a href="https://github.com/epinowcast/epinowcast/issues/228" class="external-link">#228</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Fixed an issue (<a href="https://github.com/epinowcast/epinowcast/issues/198" class="external-link">#198</a>) with the interface for <code>scoringutils</code>. For an unknown reason our example data contained <code>pillar</code> classes (likely due to an upstream change). This caused an issue with internal <code>scoringutils</code> that was using implicit type conversion (see <a href="https://github.com/epiforecasts/scoringutils/pull/274" class="external-link">here</a>). See <a href="https://github.com/epinowcast/epinowcast/issues/201" class="external-link">#201</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Fixed a bug in <code><a href="../reference/enw_plot_quantiles.html">enw_plot_quantiles()</a></code> where the documented default for <code>log</code> was <code>FALSE</code> but the actual default was <code>TRUE</code>. See <a href="https://github.com/epinowcast/epinowcast/issues/209" class="external-link">#209</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Fixed a bug in <code><a href="../reference/enw_expectation.html">enw_expectation()</a></code> where when models were specified with zero intercept a initial condition was still being specified for the intercept of the growth rate (<code>expr_r_int</code>, <a href="https://github.com/epinowcast/epinowcast/issues/246" class="external-link">#246</a>). This was not flagged as an issue by <code>cmdstan 2.31.0</code> but as of <code>cmdstan 2.32.0</code>, due to improvements in how initial conditions were being read in (<a href="https://github.com/stan-dev/stan/issues/3182" class="external-link">stan-dev/stan#3182</a>), it throws an error causing models to fail. Solution suggested by <a href="https://github.com/WardBrian" class="external-link">@WardBrian</a>, implemented in <a href="https://github.com/epinowcast/epinowcast/issues/255" class="external-link">#255</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>, and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="depreciations-0-2-1">Depreciations<a class="anchor" aria-label="anchor" href="#depreciations-0-2-1"></a></h3>
<ul><li>
<code><a href="../reference/enw_incidence_to_cumulative.html">enw_incidence_to_cumulative()</a></code>: Deprecated with a warning in favour of <code><a href="../reference/enw_add_cumulative.html">enw_add_cumulative()</a></code>. This renaming is to better reflect the function’s purpose. <code><a href="../reference/enw_incidence_to_cumulative.html">enw_incidence_to_cumulative()</a></code> will be removed in <code>0.3.0</code>. See <a href="https://github.com/epinowcast/epinowcast/issues/247" class="external-link">#247</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>
<code><a href="../reference/enw_cumulative_to_incidence.html">enw_cumulative_to_incidence()</a></code>: Deprecated with a warning in favour of <code><a href="../reference/enw_add_incidence.html">enw_add_incidence()</a></code>. This renaming is to better reflect the function’s purpose. <code><a href="../reference/enw_cumulative_to_incidence.html">enw_cumulative_to_incidence()</a></code> will be removed in <code>0.3.0</code>. See <a href="https://github.com/epinowcast/epinowcast/issues/247" class="external-link">#247</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="package-0-2-1">Package<a class="anchor" aria-label="anchor" href="#package-0-2-1"></a></h3>
<ul><li>Fixed some typos in <code>README.md</code>, <code>NEWS.md</code>, the <code>model.Rmd</code> vignette and <code><a href="../reference/convolution_matrix.html">convolution_matrix()</a></code> documentation. The <code>WORDLIST</code> used by spelling has also been updated by eliminate false positives. See <a href="https://github.com/epinowcast/epinowcast/issues/221" class="external-link">#221</a> by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added more non-default linters in <code>.lintr</code> configuration file. This file is used when <code>lintr::lint_package()</code> is run or in the new <code>lint-changed-files.yaml</code> GitHub Actions workflow. See <a href="https://github.com/epinowcast/epinowcast/issues/220" class="external-link">#220</a> by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Switched to the <code>lint-changed-files.yaml</code> GitHub Actions workflow instead of the regular <code>lint.yaml</code> to avoid annotations unrelated to the changes made in the PR. See <a href="https://github.com/epinowcast/epinowcast/issues/220" class="external-link">#220</a> by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Added tests for <code><a href="../reference/summary.epinowcast.html">summary.epinowcast()</a></code> and <code><a href="../reference/plot.epinowcast.html">plot.epinowcast()</a></code> methods. See <a href="https://github.com/epinowcast/epinowcast/issues/209" class="external-link">#209</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Added tests for <code><a href="../reference/enw_plot_obs.html">enw_plot_obs()</a></code> where not otherwise covered by <code><a href="../reference/plot.epinowcast.html">plot.epinowcast()</a></code> tests. See <a href="https://github.com/epinowcast/epinowcast/issues/209" class="external-link">#209</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Refactored to consolidate data checking and internalization into a single internal function <code><a href="../reference/coerce_dt.html">coerce_dt()</a></code>, addressing issues <a href="https://github.com/epinowcast/epinowcast/issues/242" class="external-link">#242</a>, <a href="https://github.com/epinowcast/epinowcast/issues/241" class="external-link">#241</a>, <a href="https://github.com/epinowcast/epinowcast/issues/214" class="external-link">#214</a>, and <a href="https://github.com/epinowcast/epinowcast/issues/149" class="external-link">#149</a>. This eliminates the need for <code>add_group()</code>, <code>check_by()</code>, and <code>check_dates()</code> (and associated documentation, tests - some of these were intermediate capabilities introduced within this minor version; see <a href="https://github.com/epinowcast/epinowcast/issues/208" class="external-link">#208</a>) which have all been removed. Also starts to enable internal versus external use of exposed methods with the <code>copy = ...</code> argument. See <a href="https://github.com/epinowcast/epinowcast/issues/239" class="external-link">#239</a> by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>, reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Resolved the spurious test warnings for snapshot tests which were linked to unstated formatting requirements. See <a href="https://github.com/epinowcast/epinowcast/issues/208" class="external-link">#208</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Removed unused internal plot helpers. See <a href="https://github.com/epinowcast/epinowcast/issues/217" class="external-link">#217</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added tests for all internal <code>check_</code> functions used to check inputs. See <a href="https://github.com/epinowcast/epinowcast/issues/217" class="external-link">#217</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Removed the problematic double specification of default arguments for <code>target_date</code> in <code><a href="../reference/enw_metadata.html">enw_metadata()</a></code> as flagged in <a href="https://github.com/epinowcast/epinowcast/issues/212" class="external-link">#212</a> by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a> using <code><a href="https://rdrr.io/r/base/formals.html" class="external-link">formals()</a></code> to instead detect the default values from the function specification. See <a href="https://github.com/epinowcast/epinowcast/issues/232" class="external-link">#232</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>In the words of Jenny Bryan: “there is no else, there is only if.” Having else after <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> of <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code> increases the number of branches in the code, which makes it harder to read. It also translates into a higher cyclomatic complexity. We have removed all else statements after <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> and <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code> in the package. See <a href="https://github.com/epinowcast/epinowcast/issues/229" class="external-link">#229</a> by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Removed the internal definition of <code>no_contrasts</code> in <code><a href="../reference/enw_formula.html">enw_formula()</a></code> as this was unused. Identified by <a href="https://github.com/bisaloo" class="external-link">@bisaloo</a> in <a href="https://github.com/epinowcast/epinowcast/issues/220" class="external-link">#220</a> and raised in <a href="https://github.com/epinowcast/epinowcast/issues/223" class="external-link">#223</a>. See <a href="https://github.com/epinowcast/epinowcast/issues/228" class="external-link">#228</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added tests for <code><a href="../reference/enw_replace_priors.html">enw_replace_priors()</a></code> to check that it can handle <code>epinowcast</code> summarised posterior estimates. See <a href="https://github.com/epinowcast/epinowcast/issues/228" class="external-link">#228</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added a prefix (<code>rw__</code>) in <code><a href="../reference/enw_formula.html">enw_formula()</a></code> and <code><a href="../reference/construct_rw.html">construct_rw()</a></code> to indicate when a random effect variance is a random walk versus a random effect. See <a href="https://github.com/epinowcast/epinowcast/issues/228" class="external-link">#228</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by.</li>
<li>Added support for using the same variable as both a random effect and a random walk. In most settings this is not advised. See <a href="https://github.com/epinowcast/epinowcast/issues/228" class="external-link">#228</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added an error message to <code><a href="../reference/construct_rw.html">construct_rw()</a></code> when a random walk is specified for a variable that is not a numeric variable. See <a href="https://github.com/epinowcast/epinowcast/issues/228" class="external-link">#228</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Added support for preprocessing and model fitting benchmarking using <code>touchstone</code> based on the implementation in <code>EpiNow2</code> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a>. See <a href="https://github.com/epinowcast/epinowcast/issues/200" class="external-link">#200</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>, <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>, <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a>, and self-reviewed.</li>
<li>Added a complete set of data converters to map between line list (i.e. each row is a case) and count data (i.e incidence and cumulative counts by reference and report date). In particular, this will help workflows where individual line list data is available as it can now be formatted ready for preprocessing using a single call to <code><a href="../reference/enw_linelist_to_incidence.html">enw_linelist_to_incidence()</a></code> which previously took several steps. See <a href="https://github.com/epinowcast/epinowcast/issues/247" class="external-link">#247</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/jhellewell14" class="external-link">@jhellewell14</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Dropped the use of the <code>develop</code> branch for development versions of the package. This change was discussed in <a href="https://github.com/epinowcast/epinowcast/issues/250" class="external-link">#250</a> with the major motivator being that since the introduction of release only builds to R Universe we no longer need to have a stable <code>main</code> branch of GitHub to control our releases. See <a href="https://github.com/epinowcast/epinowcast/issues/256" class="external-link">#256</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> and <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Cleaned enw_formula_as_data_list() to better align with DRY principles. See <a href="https://github.com/epinowcast/epinowcast/issues/245" class="external-link">#245</a> by <a href="https://github.com/Lnrivas" class="external-link">@Lnrivas</a>, reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>, and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-2-1">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-2-1"></a></h3>
<ul><li>Added examples for <code><a href="../reference/summary.epinowcast.html">summary.epinowcast()</a></code> and <code><a href="../reference/plot.epinowcast.html">plot.epinowcast()</a></code> methods to the documentation. See <a href="https://github.com/epinowcast/epinowcast/issues/209" class="external-link">#209</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Extended documentation, examples, and tests for internal, preprocessing, and postprocessing functions. See <a href="https://github.com/epinowcast/epinowcast/issues/208" class="external-link">#208</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Added examples for all plot functions. See <a href="https://github.com/epinowcast/epinowcast/issues/209" class="external-link">#209</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Added an example for <code><a href="../reference/enw_replace_priors.html">enw_replace_priors()</a></code> showing how to use a nowcast posterior to update the default priors. See <a href="https://github.com/epinowcast/epinowcast/issues/228" class="external-link">#228</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and self-reviewed.</li>
<li>Updated the package citation and documentation to include all new authors as of the <code>0.2.1</code> release and to use the recommended <code><a href="https://rdrr.io/r/utils/bibentry.html" class="external-link">bibentry()</a></code> approach. See <a href="https://github.com/epinowcast/epinowcast/issues/236" class="external-link">#236</a> and <a href="https://github.com/epinowcast/epinowcast/issues/237" class="external-link">#237</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>.</li>
<li>Added a package style guide (<code>STYLE_GUIDE.md</code>) to document the style conventions used in the package. See <a href="https://github.com/epinowcast/epinowcast/issues/64" class="external-link">#64</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a> and <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>.</li>
<li>Improved and extended documentation of discretized, parametric delay distributions. Changed structure of package vignettes (into two categories, model definition vignettes and case study vignettes). See <a href="https://github.com/epinowcast/epinowcast/issues/265" class="external-link">#265</a> by <a href="https://github.com/FelixGuenther" class="external-link">@FelixGuenther</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and reviewed by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Improved and extended the README quick start after feedback from <a href="https://github.com/parksw3" class="external-link">@parksw3</a> in <a href="https://github.com/epinowcast/epinowcast/issues/260" class="external-link">#260</a>. See <a href="https://github.com/epinowcast/epinowcast/issues/267" class="external-link">#267</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and reviewed by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and <a href="https://github.com/parksw3" class="external-link">@parksw3</a>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="epinowcast-020">epinowcast 0.2.0<a class="anchor" aria-label="anchor" href="#epinowcast-020"></a></h2>
<p>This release adds several extensions to our modelling framework, including modelling of missing data, flexible modelling of the generative process underlying case counts, an optional renewal equation-based generative process (enabling direct estimation of the effective reproduction number), and convolution-based latent reporting delays (enabling the modelling of both directly observed and unobserved delays as well as partial ascertainment). Much of the methodology used in these extensions is based on <a href="https://github.com/adrian-lison/nowcast-transmission" class="external-link">work done by Adrian Lison</a> and is currently being evaluated.</p>
<p>On top of model extensions this release also adds a range of quality of life features, such as a helper functions for constructing convolution matrices and combining probability mass functions. It also comes with improved computational efficiency, thanks to a refactoring of the hazard model computations to the log scale and extended parallelisation of the likelihood that is optimised for the structure of the input data. We have also extended the package documentation and streamlined the contribution process.</p>
<p>As a large-scale project, the package remains in an experimental state, though it is sufficiently stable for both research and production usage. More core development is needed to improve post-processing, pre-processing, documentation coverage, and evaluate optimal configurations in different settings) please see our <a href="https://community.epinowcast.org/" class="external-link">community site</a>, <a href="https://github.com/epinowcast/epinowcast/blob/main/CONTRIBUTING.md" class="external-link">contributing guide</a>, and list of <a href="https://github.com/epinowcast/epinowcast/issues" class="external-link">issues/proposed features</a> if interested in being involved (any scale of contribution is warmly welcomed including user feedback, requests to extend our functionality to cover your setting, and evaluating the package for your context). This is a community project that needs support from its users in order to provide improved tools for real-time infectious disease surveillance.</p>
<p>We thank <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>, <a href="https://github.com/choi-hannah" class="external-link">@choi-hannah</a>, <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a>, <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>, <a href="https://github.com/seabbs" class="external-link">@seabbs</a>, <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>, and <a href="https://github.com/pratikunterwegs" class="external-link">@pratikunterwegs</a> for code contributions to this release. We also thank all <a href="https://community.epinowcast.org/" class="external-link">community members</a> for their contributions including <a href="https://github.com/jhellewell14" class="external-link">@jhellewell14</a>, <a href="https://github.com/FelixGuenther" class="external-link">@FelixGuenther</a>, <a href="https://github.com/parksw3" class="external-link">@parksw3</a>, and <a href="https://github.com/jbracher" class="external-link">@jbracher</a>.</p>
<p>Full details on the changes in this release can be found in the following sections.</p>
<div class="section level3">
<h3 id="package-0-2-0">Package<a class="anchor" aria-label="anchor" href="#package-0-2-0"></a></h3>
<ul><li>Added <code>.Rhistory</code> to the <code>.gitignore</code> file. See <a href="https://github.com/epinowcast/epinowcast/issues/132" class="external-link">#132</a> by <a href="https://github.com/choi-hannah" class="external-link">@choi-hannah</a>.</li>
<li>Fixed indentations for authors and contributors in the <code>DESCRIPTION</code> file. See <a href="https://github.com/epinowcast/epinowcast/issues/132" class="external-link">#132</a> by <a href="https://github.com/choi-hannah" class="external-link">@choi-hannah</a>.</li>
<li>Renamed <code>enw_new_reports()</code> to <code><a href="../reference/enw_cumulative_to_incidence.html">enw_cumulative_to_incidence()</a></code> and added the reverse function <code><a href="../reference/enw_incidence_to_cumulative.html">enw_incidence_to_cumulative()</a></code> both functions use a <code>by</code> argument to allow specification of variable groupings. See <a href="https://github.com/epinowcast/epinowcast/issues/157" class="external-link">#157</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Switched class checking to <code>inherits(x, "class")</code> rather than <code>class(x) %in% "class"</code>. See <a href="https://github.com/epinowcast/epinowcast/issues/155" class="external-link">#155</a> by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>.</li>
<li>Changed <code><a href="../reference/enw_add_metaobs_features.html">enw_add_metaobs_features()</a></code> interface to have <code>holidays</code> argument as a series of dates. Changed interface of <code><a href="../reference/enw_preprocess_data.html">enw_preprocess_data()</a></code> to pass <code>...</code> to <code><a href="../reference/enw_add_metaobs_features.html">enw_add_metaobs_features()</a></code>. Interface changes come with internal rewrite and unit tests. As part of internal rewrite, introduces <code><a href="../reference/coerce_date.html">coerce_date()</a></code> to <code>R/utils.R</code>, which wraps <code><a href="https://Rdatatable.gitlab.io/data.table/reference/IDateTime.html" class="external-link">data.table::as.IDate()</a></code> with error handling. See <a href="https://github.com/epinowcast/epinowcast/issues/151" class="external-link">#151</a> by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Changed the style of using <code>match.arg</code> for validating inputs. Briefly, the preference is now to define options via function arguments and validate with automatic <code>match.arg</code> idiom with corresponding enumerated documentation of the options. For this idiom, the first item in the definition is the default. This approach only applies to string-based arguments; different types of arguments cannot be matched this way, nor can arguments that allow for vector-valued options (e.g., if <code>somearg = c("option1", "option2")</code> were a legal argument indicating to use both options). See <a href="https://github.com/epinowcast/epinowcast/issues/162" class="external-link">#162</a> by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a> addressing issue <a href="https://github.com/epinowcast/epinowcast/issues/156" class="external-link">#156</a> by <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a>.</li>
<li>Refined the use of data ordering throughout the preprocessing functions. See <a href="https://github.com/epinowcast/epinowcast/issues/147" class="external-link">#147</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Skipped tests that use <code>cmdstan</code> locally to improve the developer/contributor experience. See <a href="https://github.com/epinowcast/epinowcast/issues/147" class="external-link">#147</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added a basic simulator function for missing reference data. See <a href="https://github.com/epinowcast/epinowcast/issues/147" class="external-link">#147</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added support for right hand side interactions as syntax sugar for random effects. This allows the specification of, for example, independent random effects by day for each strata of another variable. See <a href="https://github.com/epinowcast/epinowcast/issues/169" class="external-link">#169</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Added support for passing <code>cpp_options</code> to <code><a href="https://mc-stan.org/cmdstanr/reference/cmdstan_model.html" class="external-link">cmdstanr::cmdstan_model()</a></code>. See <a href="https://github.com/epinowcast/epinowcast/issues/182" class="external-link">#182</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Add a function, <code><a href="../reference/convolution_matrix.html">convolution_matrix()</a></code> for constructing convolution matrices. See <a href="https://github.com/epinowcast/epinowcast/issues/183" class="external-link">#183</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Add a pass through from <code><a href="../reference/enw_model.html">enw_model()</a></code> to <code><a href="../reference/write_stan_files_no_profile.html">write_stan_files_no_profile()</a></code> for the <code>target_dir</code> argument. This allows users to compile the model once and then share the compiled model across sessions rather than having to recompile each time the temporary directory is cleared. See <a href="https://github.com/epinowcast/epinowcast/issues/185" class="external-link">#185</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Added <code><a href="../reference/add_pmfs.html">add_pmfs()</a></code>, to sum probability mass functions into a new probability mass function. Initial implementation by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> in <a href="https://github.com/epinowcast/epinowcast/issues/183" class="external-link">#183</a>, refactored by <a href="https://github.com/pratikunterwegs" class="external-link">@pratikunterwegs</a> in <a href="https://github.com/epinowcast/epinowcast/issues/187" class="external-link">#187</a>, following a suggestion in issue <a href="https://github.com/epinowcast/epinowcast/issues/186" class="external-link">#186</a> by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Added a warning when the observed empirical maximum delay is less than the specified maximum delay. See <a href="https://github.com/epinowcast/epinowcast/issues/190" class="external-link">#190</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Added nested support for converting array syntax in <code>convert_cmdstan_to_rstan</code>. See <a href="https://github.com/epinowcast/epinowcast/issues/192" class="external-link">#192</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="model-0-2-0">Model<a class="anchor" aria-label="anchor" href="#model-0-2-0"></a></h3>
<ul><li>Added support for parametric log-logistic delay distributions. See <a href="https://github.com/epinowcast/epinowcast/issues/128" class="external-link">#128</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Implemented direct specification of parametric baseline hazards. See <a href="https://github.com/epinowcast/epinowcast/issues/134" class="external-link">#134</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Refactored the observation model, the combination of logit hazards, and the effects priors to be contained in generic functions to make extending package functionality easier. See <a href="https://github.com/epinowcast/epinowcast/issues/137" class="external-link">#137</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Implemented specification of the parametric baseline hazards and probabilities on the log scale to increase robustness and efficiency. Also includes refactoring of these functions and reorganisation of <code>inst/stan/epinowcast.stan</code> to increase modularity and clarity. See <a href="https://github.com/epinowcast/epinowcast/issues/140" class="external-link">#140</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Introduced two new delay likelihoods <code>delay_snap_lmpf</code> and <code>delay_group_lmpf</code>. These stratify by either snapshots or groups. This is helpful for some models (such as the missingness module). The ability to choose which function is used has been exposed to the user in <code><a href="../reference/enw_fit_opts.html">enw_fit_opts()</a></code> via the <code>likelihood_aggregation</code> argument. Both of these functions rely on a newly added <code>expected_obs_from_snaps</code> function which vectorises <code>expected_obs_from_index</code>. See <a href="https://github.com/epinowcast/epinowcast/issues/138" class="external-link">#138</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added support for supplying missingness model parameters to the model as well as optional priors and effect estimation. See <a href="https://github.com/epinowcast/epinowcast/issues/138" class="external-link">#138</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Refactored model generated quantities to be functional. See <a href="https://github.com/epinowcast/epinowcast/issues/138" class="external-link">#138</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added support for modelling missing reference dates to the likelihood. See <a href="https://github.com/epinowcast/epinowcast/issues/147" class="external-link">#147</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added additional functionality to <code>delay_group_lmpf</code> to support modelling observations missing reference dates. Also updated the generated quantities to support this mode. See <a href="https://github.com/epinowcast/epinowcast/issues/147" class="external-link">#147</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> based on <a href="https://github.com/epinowcast/epinowcast/issues/64" class="external-link">#64</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added a flexible expectation process on the growth rate scale. The default expectation model has been updated to a group-wise random walk on the growth rate. See <a href="https://github.com/epinowcast/epinowcast/issues/152" class="external-link">#152</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added a deterministic renewal equation, and latent reporting process. See <a href="https://github.com/epinowcast/epinowcast/issues/152" class="external-link">#152</a> and <a href="https://github.com/epinowcast/epinowcast/issues/183" class="external-link">#183</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added support for no intercept in the expectation model and more general formula support to enable this as a feature in other modules going forward. See <a href="https://github.com/epinowcast/epinowcast/issues/170" class="external-link">#170</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-2-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-2-0"></a></h3>
<ul><li>Removed explicit links to authors and issues in the <code>NEWS.md</code> file. See <a href="https://github.com/epinowcast/epinowcast/issues/132" class="external-link">#132</a> by <a href="https://github.com/choi-hannah" class="external-link">@choi-hannah</a>.</li>
<li>Added a new example using simulated data and the <code><a href="../reference/enw_missing.html">enw_missing()</a></code> model module. See <a href="https://github.com/epinowcast/epinowcast/issues/138" class="external-link">#138</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Update the model definition vignette to include the missing reference date model. See <a href="https://github.com/epinowcast/epinowcast/issues/147" class="external-link">#147</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a> and <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
<li>Added the use of an expectation model to the “Hierarchical nowcasting of age stratified COVID-19 hospitalisations in Germany” vignette. See <a href="https://github.com/epinowcast/epinowcast/issues/193" class="external-link">#193</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="bugs-0-2-0">Bugs<a class="anchor" aria-label="anchor" href="#bugs-0-2-0"></a></h3>
<ul><li>The probability-only model (i.e only a parametric distribution is used and hence the hazard scale is not needed) was not used due to a mistake specifying <code>ref_as_p</code> in the stan code. There was an additional issue in that the <code><a href="../reference/enw_report.html">enw_report()</a></code> module currently self-declares as on regardless of it is or not. This bug had no impact on results but would have increased runtimes for simple models. Both of these issues were fixed in <a href="https://github.com/epinowcast/epinowcast/issues/142" class="external-link">#142</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>The addition of meta features week and month did not properly sequentially number weeks and months when time series crossed year boundaries. This would impact models that included effects expecting those to in fact be sequentially numbered (e.g. random walks). Fixed in <a href="https://github.com/epinowcast/epinowcast/issues/151" class="external-link">#151</a> by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>#151 also corrects a minor issue with <code><a href="../reference/enw_example.html">enw_example()</a></code> pointing at an old file name when <code>type="script"</code>. By <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="epinowcast-010">epinowcast 0.1.0<a class="anchor" aria-label="anchor" href="#epinowcast-010"></a></h2>
<p>This is a major release focusing on improving the user experience, and preparing for future package extensions, with an increase in modularity, development of a flexible and full-featured formula interface, and hopefully future-proofing as far as possible. This prepares the ground for future model extensions which will allow a broad range of real-time infectious disease questions to be better answered. These extensions include:</p>
<ul><li>Modelling missing data (<a href="https://github.com/epinowcast/epinowcast/issues/43" class="external-link">#43</a>).</li>
<li>Non-parametric modelling of delay and reference date logit hazard (<a href="https://github.com/epinowcast/epinowcast/issues/4" class="external-link">#4</a>).</li>
<li>Flexible expectation modelling (<a href="https://github.com/epinowcast/epinowcast/issues/5" class="external-link">#5</a>).</li>
<li>Forecasting beyond the horizon of the data (<a href="https://github.com/epinowcast/epinowcast/issues/3" class="external-link">#3</a>).</li>
<li>Known reporting structures (<a href="https://github.com/epinowcast/epinowcast/issues/33" class="external-link">#33</a>).</li>
<li>Renewal equation-based reproduction number estimation (potentially part of <a href="https://github.com/epinowcast/epinowcast/issues/5" class="external-link">#5</a>).</li>
<li>Latent infections (i.e as implemented in other packages such as <code>EpiNow2</code>, <code>epidemia</code>, etc.).</li>
<li>Convolution-based delay models (i.e hospitalisations and deaths) with partially reported data.</li>
<li>Additional observation models.</li>
</ul><p>If interested in contributing to these features, or other aspects of package development (for example improving post-processing, the coverage of documentation, or contributing case studies) please see our <a href="https://package.epinowcast.org/dev/CONTRIBUTING.html">contributing guide</a> and/or just reach out. This is a community project that needs support from its users in order to provide improved tools for real-time infectious disease surveillance.</p>
<p>This release contains multiple breaking changes. If needing the old interface please install <a href="https://github.com/epinowcast/epinowcast/releases/tag/v0.0.7" class="external-link"><code>0.0.7</code> from GitHub</a>. For ease, we have stratified changes below into interface, package, documentation, and model changes. Note the package is still flagged as experimental but is in regular use by the authors.</p>
<p>@adrian-lison, <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a>, and <a href="https://github.com/seabbs" class="external-link">@seabbs</a> contributed to this release.</p>
<div class="section level3">
<h3 id="interface-0-1-0">Interface<a class="anchor" aria-label="anchor" href="#interface-0-1-0"></a></h3>
<ul><li>A fully featured and flexible formula interface has been added that allows the specification of fixed effects, <code>lme4</code> random effects, and random walks. See <a href="https://github.com/epinowcast/epinowcast/issues/27" class="external-link">#27</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>A major overhaul, as described in <a href="https://github.com/epinowcast/epinowcast/issues/57" class="external-link">#57</a>, to the interface of <code><a href="../reference/epinowcast.html">epinowcast()</a></code> with a particular focus on improving the modularity of the model components (described as modules in the documentation). All of the package documentation and vignettes have been updated to reflect this new interface. See <a href="https://github.com/epinowcast/epinowcast/issues/112" class="external-link">#112</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="package-0-1-0">Package<a class="anchor" aria-label="anchor" href="#package-0-1-0"></a></h3>
<ul><li>Renamed the package and updated the description to give more clarity about the problem space it focusses on. See <a href="https://github.com/epinowcast/epinowcast/issues/110" class="external-link">#110</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>A new helper function <code><a href="../reference/enw_delay_metadata.html">enw_delay_metadata()</a></code> has been added. This produces metadata about the delay distribution vector that may be helpful in future modelling. This prepares the way for <a href="https://github.com/epinowcast/epinowcast/issues/4" class="external-link">#4</a> where this <code>data.frame</code> will be combined with the reference metadata in order to build non-parametric hazard reference and delay-based models. In addition to adding this function, it has also been added to the output of <code><a href="../reference/enw_preprocess_data.html">enw_preprocess_data()</a></code> in order to make the metadata readily available to end-users. See <a href="https://github.com/epinowcast/epinowcast/issues/80" class="external-link">#80</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Two new helper functions <code><a href="../reference/enw_filter_reference_dates.html">enw_filter_reference_dates()</a></code> and <code><a href="../reference/enw_filter_report_dates.html">enw_filter_report_dates()</a></code> have been added. These replace <code>enw_retrospective_data()</code> but allow users to similarly construct retrospective data. Splitting these functions out into components also allows for additional use cases that were not previously possible. Note that by definition it is assumed that a report date for a given reference date must be equal or greater (i.e a report cannot happen before the event being reported occurs). See <a href="https://github.com/epinowcast/epinowcast/issues/82" class="external-link">#82</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>The internal grouping variables have been refactored to reduce the chance of clashes with columns in the data.frames supplied by the user. There will also be an error thrown in case of a variable clash, making preprocessing safer. See <a href="https://github.com/epinowcast/epinowcast/issues/102" class="external-link">#102</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>, which solves <a href="https://github.com/epinowcast/epinowcast/issues/99" class="external-link">#99</a>.</li>
<li>Support for preprocessing observations with missing reference dates has been added along with a new data object returned by <code><a href="../reference/enw_preprocess_data.html">enw_preprocess_data()</a></code> that highlights this information to the user (alternatively can be accessed by users using <code><a href="../reference/enw_missing_reference.html">enw_missing_reference()</a></code>). In addition, these missing observations have been setup to be passed to stan in order to allow their use in modelling. This feature is in preparation of adding full support for missing observations (see <a href="https://github.com/epinowcast/epinowcast/issues/43" class="external-link">#43</a>). See <a href="https://github.com/epinowcast/epinowcast/issues/106" class="external-link">#106</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>The discretised reporting probability function has been extended to handle delays beyond the maximum delay in three different ways: ignore, add to maximum, or normalize. The nowcasting model uses “normalise” though work on this is ongoing. See <a href="https://github.com/epinowcast/epinowcast/issues/113" class="external-link">#113</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and <a href="https://github.com/epinowcast/epinowcast/issues/121" class="external-link">#121</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Fixed an issue (<a href="https://github.com/epinowcast/epinowcast/issues/105" class="external-link">#105</a>) with <code>cmdstan 2.30.0</code> where passing optimisation flags to <code>stanc_options</code> by default was causing a compilation error by not passing these flags by default. See <a href="https://github.com/epinowcast/epinowcast/issues/117" class="external-link">#117</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Addition of regression/integration tests against example data for <code><a href="../reference/epinowcast.html">epinowcast()</a></code> and <code><a href="../reference/enw_preprocess_data.html">enw_preprocess_data()</a></code> with convergence checking for several example nowcasting models. Lower level tests for model tools and model modules have also been added. See <a href="https://github.com/epinowcast/epinowcast/issues/112" class="external-link">#112</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="model-0-1-0">Model<a class="anchor" aria-label="anchor" href="#model-0-1-0"></a></h3>
<ul><li>Added support for parametric exponential delay distributions (note that this is comparable to an intercept-only non-parametric hazard model) and potentially no parametric delay (though this will currently throw an error due to the lack of appropriate non-parametric hazard). See <a href="https://github.com/epinowcast/epinowcast/issues/84" class="external-link">#84</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Added support for a Poisson observation model though it is recommended that most users make use of the default negative binomial model. See <a href="https://github.com/epinowcast/epinowcast/issues/120" class="external-link">#120</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Updated the expectation random walk model to use a more efficient <code>cumulative_sum</code> implementation suggested by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> in <a href="https://github.com/epinowcast/epinowcast/issues/98" class="external-link">#98</a>. See <a href="https://github.com/epinowcast/epinowcast/issues/103" class="external-link">#103</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Aligned the implementation of the overdispersion prior with the prior choice recommendations from the <a href="https://github.com/stan-dev/stan/wiki/Prior-Choice-Recommendations" class="external-link">stan wiki</a>. See <a href="https://github.com/epinowcast/epinowcast/issues/111" class="external-link">#111</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-1-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-1-0"></a></h3>
<ul><li>The model description has been updated to reflect the currently implemented model and to improve readability. The use of reference and report date nomenclature has also been standardised across the package. See <a href="https://github.com/epinowcast/epinowcast/issues/71" class="external-link">#71</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="internals-0-1-0">Internals<a class="anchor" aria-label="anchor" href="#internals-0-1-0"></a></h3>
<ul><li>Array declarations in the stan model have been updated. To maintain compatibility with <code><a href="../reference/expose_stan_fns.html">expose_stan_fns()</a></code> (which itself depends on <code>rstan</code>), additional functionality has been added to parse stan code in this function. See <a href="https://github.com/epinowcast/epinowcast/issues/74" class="external-link">#74</a>, <a href="https://github.com/epinowcast/epinowcast/issues/85" class="external-link">#85</a>, and <a href="https://github.com/epinowcast/epinowcast/issues/93" class="external-link">#93</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Remove spurious warnings due to missing initial values for optional parameters. See <a href="https://github.com/epinowcast/epinowcast/issues/76" class="external-link">#76</a> by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.7" id="epinowcast-007">epinowcast 0.0.7<a class="anchor" aria-label="anchor" href="#epinowcast-007"></a></h2>
<ul><li>Adds additional quality of life data processing so that the maximum number (<code>max_confirm</code>) of notifications is available in every row (for both cumulative and incidence notifications) and the cumulative and daily empirical proportion reported are calculated for the user during pre-processing (see <a href="https://github.com/epinowcast/epinowcast/issues/62" class="external-link">#62</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>).</li>
<li>The default approach to handling reported notifications beyond the maximum delay has been changed. In <code>0.0.6</code> and previous versions notifications beyond the maximum delay were silently dropped. In <code>0.0.7</code> this is now optional behaviour (set using <code>max_delay_strat</code> in <code><a href="../reference/enw_preprocess_data.html">enw_preprocess_data()</a></code>) and the default is instead to add these notifications to the last included delay were present. This should produce more accurate long-term nowcasts when data is available but means that reported notifications for the maximum delay need to be interpreted with this in mind. See <a href="https://github.com/epinowcast/epinowcast/issues/62" class="external-link">#62</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Adds some basic testing and documentation for preprocessing functions. See <a href="https://github.com/epinowcast/epinowcast/issues/62" class="external-link">#62</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>.</li>
<li>Stabilises calculation of expected observations by increasing the proportion of the calculation performed on the log scale. This results in reduced computation time with the majority of this coming from switching to using the <code>neg_binomial_2_log</code> family of functions (over their natural scale counterparts). See <a href="https://github.com/epinowcast/epinowcast/issues/65" class="external-link">#65</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6" id="epinowcast-006">epinowcast 0.0.6<a class="anchor" aria-label="anchor" href="#epinowcast-006"></a></h2>
<ul><li>Simplifies and optimises the internal functions used to estimate the parametric daily reporting probability. These are now exposed to the user via the <code>distribution</code> parameter with both the Lognormal and Gamma families being tested to work. Note that both parameterisations use their standard parameterisations as given in the stan manual (see <a href="https://github.com/epinowcast/epinowcast/issues/42" class="external-link">#42</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>)</li>
<li>Add profiling switch to model compilation, allowing to toggle profiling (<a href="https://mc-stan.org/cmdstanr/articles/profiling.html" class="external-link uri">https://mc-stan.org/cmdstanr/articles/profiling.html</a>) on/off in the same model. Also supports .stan files found in <code>include_paths</code> (see <a href="https://github.com/epinowcast/epinowcast/issues/41" class="external-link">#41</a> and <a href="https://github.com/epinowcast/epinowcast/issues/54" class="external-link">#54</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a>).</li>
<li>Fully vectorise the likelihood by flattening observations and pre-specify expected observations into a vector before calculating the log-likelihood (see <a href="https://github.com/epinowcast/epinowcast/issues/40" class="external-link">#40</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>).</li>
<li>Adds vectorisation of zero truncated normal distributions (see <a href="https://github.com/epinowcast/epinowcast/issues/38" class="external-link">#38</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>)</li>
<li>
<code>hazard_to_prob</code> has been optimised using vectorisation (see <a href="https://github.com/epinowcast/epinowcast/issues/53" class="external-link">#53</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>).</li>
<li>
<code>prob_to_hazard</code> has been optimised so that only required cumulative probabilities are calculated (see <a href="https://github.com/epinowcast/epinowcast/issues/53" class="external-link">#53</a> by <a href="https://github.com/adrian-lison" class="external-link">@adrian-lison</a> and <a href="https://github.com/seabbs" class="external-link">@seabbs</a>).</li>
<li>Updated to use the <code>inv_sqrt</code> stan function (see <a href="https://github.com/epinowcast/epinowcast/issues/60" class="external-link">#60</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>).</li>
<li>Added support for <code>scoringutils 1.0.0</code> (see <a href="https://github.com/epinowcast/epinowcast/issues/61" class="external-link">#61</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>).</li>
<li>Added a basic example helper function, <code><a href="../reference/enw_example.html">enw_example()</a></code>, to power examples and tests based on work done in <a href="https://epiforecasts.io/forecast.vocs/" class="external-link"><code>forecast.vocs</code></a> (see <a href="https://github.com/epinowcast/epinowcast/issues/61" class="external-link">#61</a> by <a href="https://github.com/seabbs" class="external-link">@seabbs</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5" id="epinowcast-005">epinowcast 0.0.5<a class="anchor" aria-label="anchor" href="#epinowcast-005"></a></h2>
<ul><li>Convert retrospective data date fields to class of <code>IDate</code> when utilising <code>enw_retrospective_data</code> to solve esoteric error.</li>
<li>Added full argument name for <code>include_paths</code> to avoid console chatter</li>
<li>Adds a <code>stanc_options</code> argument to <code><a href="../reference/enw_model.html">enw_model()</a></code> and specifies a new default of <code>list("01")</code> which enables simple pre-compilation optimisations. See <a href="https://blog.mc-stan.org/2022/02/15/release-of-cmdstan-2-29/" class="external-link">here</a> of these optimisation for details.</li>
<li>Remove <code>inv_logit</code> and <code>logit</code> as may instead use base R <code>plogit</code> and <code>qlogit</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.4" id="epinowcast-004">epinowcast 0.0.4<a class="anchor" aria-label="anchor" href="#epinowcast-004"></a></h2>
<ul><li>Add support for extracting and summarising posterior nowcast samples</li>
<li>Package spell check</li>
<li>Update read me quick start to use 40 days of delay vs 30</li>
<li>Add a section to the read me quick start showing an example of handling nowcast samples.</li>
<li>Add support for passing custom models and included files to <code><a href="../reference/enw_model.html">enw_model()</a></code>.</li>
<li>Fix a bug where <code><a href="../reference/enw_summarise_samples.html">enw_summarise_samples()</a></code> returned duplicate samples.</li>
<li>Add support for passing holidays as a variable and then adjusting by converting the holiday day into a custom day of the week (by default Sunday but this is set by the user).</li>
<li>Added support for scoring on both the natural and log scale. This represents absolute and relative scoring respectively.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.3" id="epinowcast-003">epinowcast 0.0.3<a class="anchor" aria-label="anchor" href="#epinowcast-003"></a></h2>
<ul><li>Add support for passing in priors</li>
<li>Add case study vignette</li>
<li>Add model definition and implementation details.</li>
<li>Add support for out of sample scoring (using <code>scoringutils</code>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.2" id="epinowcast-002">epinowcast 0.0.2<a class="anchor" aria-label="anchor" href="#epinowcast-002"></a></h2>
<ul><li>Initial version of the package with broadly working functionality and first draft vignettes.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1" id="epinowcast-001">epinowcast 0.0.1<a class="anchor" aria-label="anchor" href="#epinowcast-001"></a></h2>
<ul><li>Initial package version with development code</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>, Adrian Lison, Sebastian Funk, Carl Pearson, Hugo Gruson, Felix Guenther.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

