<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Define a model using a formula interface — enw_formula • epinowcast</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Define a model using a formula interface — enw_formula"><meta name="description" content="This function allows models to be defined using a
flexible formula interface that supports fixed effects, random effects
(using lme4 syntax), and random walks. The formula syntax
builds on standard R formula notation and extends it with lme4
style random effects and custom random walk terms. Users familiar with
mixed models in lme4 or brms will recognise the syntax. Note that the
returned fixed effects design matrix is sparse and so the index supplied
is required to link observations to the appropriate design matrix row."><meta property="og:description" content="This function allows models to be defined using a
flexible formula interface that supports fixed effects, random effects
(using lme4 syntax), and random walks. The formula syntax
builds on standard R formula notation and extends it with lme4
style random effects and custom random walk terms. Users familiar with
mixed models in lme4 or brms will recognise the syntax. Note that the
returned fixed effects design matrix is sparse and so the index supplied
is required to link observations to the appropriate design matrix row."><meta property="og:image" content="https://package.epinowcast.org/reference/figures/README-nowcast-1.png"><meta property="og:image:alt" content="An R package for flexible hierarchical nowcasting"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@seabbs"><meta name="twitter:site" content="@seabbs"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">epinowcast</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/epinowcast.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reference" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reference</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reference"><li><a class="dropdown-item" href="../reference/index.html">R Reference</a></li>
    <li><a class="dropdown-item" href="https://package.epinowcast.org/stan/globals.html">Stan Reference</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Model details</h6></li>
    <li><a class="dropdown-item" href="../articles/model.html">Model definition and implementation</a></li>
    <li><a class="dropdown-item" href="../articles/features.html">Model features summary</a></li>
    <li><a class="dropdown-item" href="../articles/distributions.html">Discretised distributions</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Case studies</h6></li>
    <li><a class="dropdown-item" href="../articles/germany-age-stratified-nowcasting.html">Hierarchical nowcasting of age stratified COVID-19 hospitalisations in Germany</a></li>
    <li><a class="dropdown-item" href="../articles/single-timeseries-rt-estimation.html">Estimating the effective reproduction number in real-time for a single timeseries with reporting delays</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Working with epinowcast</h6></li>
    <li><a class="dropdown-item" href="../articles/stan-help.html">Resources to help with model fitting using Stan</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epinowcast/epinowcast/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Define a model using a formula interface</h1>
      <small class="dont-index">Source: <a href="https://github.com/epinowcast/epinowcast/blob/main/R/formula-tools.R" class="external-link"><code>R/formula-tools.R</code></a></small>
      <div class="d-none name"><code>enw_formula.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function allows models to be defined using a
flexible formula interface that supports fixed effects, random effects
(using <a href="https://rdrr.io/pkg/lme4/man/lme4-package.html" class="external-link">lme4</a> syntax), and random walks. The formula syntax
builds on standard R formula notation and extends it with <a href="https://rdrr.io/pkg/lme4/man/lme4-package.html" class="external-link">lme4</a>
style random effects and custom random walk terms. Users familiar with
mixed models in lme4 or brms will recognise the syntax. Note that the
returned fixed effects design matrix is sparse and so the index supplied
is required to link observations to the appropriate design matrix row.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">enw_formula</span><span class="op">(</span><span class="va">formula</span>, <span class="va">data</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>A model formula that may use standard fixed
effects, random effects using <a href="https://rdrr.io/pkg/lme4/man/lme4-package.html" class="external-link">lme4</a> syntax (see <code><a href="re.html">re()</a></code>), and
random walks defined using the <code><a href="rw.html">rw()</a></code> helper function. See the Details
section below for a comprehensive explanation of the supported syntax.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A <code>data.frame</code> of observations. It must include all
variables used in the supplied formula.</p></dd>


<dt id="arg-sparse">sparse<a class="anchor" aria-label="anchor" href="#arg-sparse"></a></dt>
<dd><p>Logical, defaults to  <code>TRUE</code>. Should the fixed effects design
matrix be sparely defined.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing the following:</p><ul><li><p><code>formula</code>: The user supplied formula</p></li>
<li><p><code>parsed_formula</code>: The formula as parsed by <code><a href="parse_formula.html">parse_formula()</a></code></p></li>
<li><p><code>expanded_formula</code>: The flattened version of the formula with
both user supplied terms and terms added for the user supplied
complex model components.</p></li>
<li><p><code>fixed</code>:  A list containing the fixed effect formula, sparse design
matrix, and the index linking the design matrix with observations.</p></li>
<li><p><code>random</code>: A list containing the random effect formula, sparse design
matrix, and the index linking the design matrix with random effects.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<div class="section">
<h3 id="formula-syntax-overview">Formula syntax overview<a class="anchor" aria-label="anchor" href="#formula-syntax-overview"></a></h3>


<p>The formula interface supports three types of model components:</p>
<p><strong>Fixed effects</strong>: Standard R formula syntax as used in <code><a href="https://rdrr.io/r/stats/lm.html" class="external-link">stats::lm()</a></code> and
similar functions. For example:</p><ul><li><p><code>~ 1</code>: intercept only</p></li>
<li><p><code>~ age_group</code>: intercept plus categorical predictor</p></li>
<li><p><code>~ age_group + location</code>: multiple predictors</p></li>
<li><p><code>~ 0 + age_group</code>: no intercept (contrasts)</p></li>
</ul><p><strong>Random effects</strong>: Uses <a href="https://rdrr.io/pkg/lme4/man/lme4-package.html" class="external-link">lme4</a> syntax with vertical bar notation.
Random effects allow parameters to vary by group whilst sharing information
across groups through partial pooling. Note that <code>epinowcast</code> assumes
independent standard deviations for random effects rather than correlated
random effects as supported by <a href="https://rdrr.io/pkg/lme4/man/lme4-package.html" class="external-link">lme4</a>. For example:</p><ul><li><p><code>~ 1 + (1 | location)</code>: random intercepts by location</p></li>
<li><p><code>~ 1 + age_group + (1 | location)</code>: fixed age effect with random
location intercepts</p></li>
<li><p><code>~ (age_group | location)</code>: random slopes for age within each location</p></li>
<li><p><code>~ (1 + week | location:month)</code>: random intercepts and week effects
for each location-month combination (using interaction to create
independent random effects per strata)</p></li>
</ul><p>Interactions (e.g., <code>location:month</code>) can be used on the right-hand side
of the vertical bar to specify independent random effects for each
combination of the interacting variables.</p>
<p>See the <a href="https://rdrr.io/pkg/lme4/man/lme4-package.html" class="external-link">lme4</a> package documentation for more details on
random effects syntax.</p>
<p><strong>Random walks</strong>: Uses the <code><a href="rw.html">rw()</a></code> helper function to specify time-varying
effects that evolve smoothly over time. For example:</p><ul><li><p><code>~ rw(week)</code>: a random walk over weeks</p></li>
<li><p><code>~ rw(week, location)</code>: independent random walks for each location</p></li>
<li><p><code>~ rw(week, location, type = "dependent")</code>: random walks with shared
variance across locations</p></li>
</ul><p>These three types of effects can be combined in a single formula, for example:
<code>~ 1 + age_group + (1 | location) + rw(week, location)</code> specifies fixed
age effects, random location intercepts, and location-specific random
walks over time.</p>
</div>

<div class="section">
<h3 id="turning-off-model-components">Turning off model components<a class="anchor" aria-label="anchor" href="#turning-off-model-components"></a></h3>


<p>In <code>epinowcast</code> model specification functions (such as <code><a href="enw_reference.html">enw_reference()</a></code>,
<code><a href="enw_report.html">enw_report()</a></code>, <code><a href="enw_expectation.html">enw_expectation()</a></code>), formula arguments can be set to <code>~0</code>
to disable that model component entirely. This is a package-specific
convention. Note that when a formula is specified as <code>~0</code>, it is typically
converted internally to <code>~1</code> (intercept only) to ensure valid model
structure, but the component is flagged as inactive.</p>
</div>

<div class="section">
<h3 id="how-formulas-map-to-the-model">How formulas map to the model<a class="anchor" aria-label="anchor" href="#how-formulas-map-to-the-model"></a></h3>


<p>The formula you specify controls which covariates and effects enter the
linear predictor of the model. For instance, in the reference date model
(<code><a href="enw_reference.html">enw_reference()</a></code>), the formula determines how reporting delay parameters
vary by covariates and groups. The formula is converted to design matrices:
a fixed effects matrix (which may be sparse for computational efficiency)
and a random effects matrix that defines the hierarchical structure.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>For users new to formula syntax in R:</p><ul><li><p><strong>Fixed effects</strong>: See <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">?formula</a></code> and the "Statistical Models in R"
chapter of "An Introduction to R": <a href="https://cran.r-project.org/doc/manuals/r-release/R-intro.html#Statistical-models-in-R" class="external-link">https://cran.r-project.org/doc/manuals/r-release/R-intro.html#Statistical-models-in-R</a></p></li>
<li><p><strong>Random effects</strong>: See the <a href="https://rdrr.io/pkg/lme4/man/lme4-package.html" class="external-link">lme4</a> package documentation
and vignettes.</p></li>
<li><p><strong>Mixed models</strong>: Bates et al. (2015) "Fitting Linear Mixed-Effects
Models Using lme4". Journal of Statistical Software, 67(1), 1-48.
doi:10.18637/jss.v067.i01</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Functions used to help convert formulas into model designs
<code><a href="as_string_formula.html">as_string_formula</a>()</code>,
<code><a href="construct_re.html">construct_re</a>()</code>,
<code><a href="construct_rw.html">construct_rw</a>()</code>,
<code><a href="enw_manual_formula.html">enw_manual_formula</a>()</code>,
<code><a href="parse_formula.html">parse_formula</a>()</code>,
<code><a href="re.html">re</a>()</code>,
<code><a href="remove_rw_terms.html">remove_rw_terms</a>()</code>,
<code><a href="rw.html">rw</a>()</code>,
<code><a href="rw_terms.html">rw_terms</a>()</code>,
<code><a href="split_formula_to_terms.html">split_formula_to_terms</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Use meta data for references dates from the Germany COVID-19</span></span></span>
<span class="r-in"><span><span class="co"># hospitalisation data.</span></span></span>
<span class="r-in"><span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="enw_filter_report_dates.html">enw_filter_report_dates</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">germany_covid19_hosp</span><span class="op">[</span><span class="va">location</span> <span class="op">==</span> <span class="st">"DE"</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  remove_days <span class="op">=</span> <span class="fl">40</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="fu"><a href="enw_filter_reference_dates.html">enw_filter_reference_dates</a></span><span class="op">(</span><span class="va">obs</span>, include_days <span class="op">=</span> <span class="fl">40</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pobs</span> <span class="op">&lt;-</span> <span class="fu"><a href="enw_preprocess_data.html">enw_preprocess_data</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">obs</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age_group"</span>, <span class="st">"location"</span><span class="op">)</span>, max_delay <span class="op">=</span> <span class="fl">20</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">pobs</span><span class="op">$</span><span class="va">metareference</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Intercept only</span></span></span>
<span class="r-in"><span><span class="fu">enw_formula</span><span class="op">(</span><span class="op">~</span> <span class="fl">1</span>, <span class="va">data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$rw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $expanded_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (Intercept)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [38] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [112] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [149] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [223] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [260] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      (Intercept)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assign")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "enw_formula" "list"       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Fixed effect</span></span></span>
<span class="r-in"><span><span class="fu">enw_formula</span><span class="op">(</span><span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">age_group</span>, <span class="va">data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + age_group"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1"         "age_group"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$rw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $expanded_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + age_group"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + age_group"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     (Intercept) age_group00+ age_group05-14 age_group15-34 age_group35-59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             1            1              0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41            1            0              0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81            1            0              1              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 121           1            0              0              1              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 161           1            0              0              0              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201           1            0              0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 241           1            0              0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     age_group60-79 age_group80+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41               0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81               0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 121              0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 161              0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201              1            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 241              0            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [38] 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [112] 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [149] 4 4 4 4 4 4 4 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [223] 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [260] 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (Intercept)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assign")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 3 4 5 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "enw_formula" "list"       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Random intercepts</span></span></span>
<span class="r-in"><span><span class="fu">enw_formula</span><span class="op">(</span><span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">age_group</span><span class="op">)</span>, <span class="va">data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + (1 | age_group)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 | age_group</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$rw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $expanded_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + age_group"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + age_group"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     (Intercept) age_group00-04 age_group00+ age_group05-14 age_group15-34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             1              0            1              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41            1              1            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81            1              0            0              1              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 121           1              0            0              0              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 161           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 241           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     age_group35-59 age_group60-79 age_group80+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                0              0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41               0              0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81               0              0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 121              0              0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 161              1              0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201              0              1            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 241              0              0            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [38] 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [112] 3 3 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [149] 4 4 4 4 4 4 4 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [223] 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [260] 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~0 + fixed + age_group"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fixed age_group</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     0         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     0         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     0         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     0         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     0         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     0         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     0         1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assign")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 3 4 5 6 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "enw_formula" "list"       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Random walk</span></span></span>
<span class="r-in"><span><span class="fu">enw_formula</span><span class="op">(</span><span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="rw.html">rw</a></span><span class="op">(</span><span class="va">week</span><span class="op">)</span>, <span class="va">data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + rw(week)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$rw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rw(week)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $expanded_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + cweek1 + cweek2 + cweek3 + cweek4 + cweek5"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + cweek1 + cweek2 + cweek3 + cweek4 + cweek5"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    (Intercept) cweek1 cweek2 cweek3 cweek4 cweek5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            1      0      0      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            1      1      0      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15           1      1      1      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22           1      1      1      1      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29           1      1      1      1      1      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36           1      1      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 3 3 3 3 3 4 4 4 4 4 4 4 5 5 5 5 5 5 5 6 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [38] 6 6 6 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 3 3 3 3 3 4 4 4 4 4 4 4 5 5 5 5 5 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] 5 6 6 6 6 6 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 3 3 3 3 3 4 4 4 4 4 4 4 5 5 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [112] 5 5 5 5 6 6 6 6 6 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 3 3 3 3 3 4 4 4 4 4 4 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [149] 5 5 5 5 5 5 5 6 6 6 6 6 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 3 3 3 3 3 4 4 4 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] 4 4 4 5 5 5 5 5 5 5 6 6 6 6 6 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 3 3 3 3 3 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [223] 4 4 4 4 4 4 5 5 5 5 5 5 5 6 6 6 6 6 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 3 3 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [260] 3 3 4 4 4 4 4 4 4 5 5 5 5 5 5 5 6 6 6 6 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~0 + fixed + rw__week"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fixed rw__week</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assign")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 3 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "enw_formula" "list"       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model with a random effect for age group and a random walk</span></span></span>
<span class="r-in"><span><span class="fu">enw_formula</span><span class="op">(</span><span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">age_group</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="rw.html">rw</a></span><span class="op">(</span><span class="va">week</span><span class="op">)</span>, <span class="va">data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + (1 | age_group) + rw(week)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 | age_group</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$rw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "rw(week)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $expanded_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + age_group + cweek1 + cweek2 + cweek3 + cweek4 + cweek5"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + age_group + cweek1 + cweek2 + cweek3 + cweek4 + cweek5"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     (Intercept) age_group00-04 age_group00+ age_group05-14 age_group15-34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             1              0            1              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8             1              0            1              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15            1              0            1              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22            1              0            1              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29            1              0            1              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36            1              0            1              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41            1              1            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48            1              1            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55            1              1            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62            1              1            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69            1              1            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76            1              1            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81            1              0            0              1              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88            1              0            0              1              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95            1              0            0              1              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 102           1              0            0              1              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 109           1              0            0              1              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116           1              0            0              1              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 121           1              0            0              0              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 128           1              0            0              0              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 135           1              0            0              0              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 142           1              0            0              0              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 149           1              0            0              0              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 156           1              0            0              0              1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 161           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 168           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 175           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 182           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 189           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 196           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 208           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 215           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 222           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 229           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 236           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 241           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 248           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 255           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 262           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 269           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 276           1              0            0              0              0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     age_group35-59 age_group60-79 age_group80+ cweek1 cweek2 cweek3 cweek4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                0              0            0      0      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                0              0            0      1      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15               0              0            0      1      1      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22               0              0            0      1      1      1      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29               0              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36               0              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41               0              0            0      0      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48               0              0            0      1      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55               0              0            0      1      1      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62               0              0            0      1      1      1      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69               0              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76               0              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81               0              0            0      0      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88               0              0            0      1      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95               0              0            0      1      1      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 102              0              0            0      1      1      1      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 109              0              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116              0              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 121              0              0            0      0      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 128              0              0            0      1      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 135              0              0            0      1      1      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 142              0              0            0      1      1      1      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 149              0              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 156              0              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 161              1              0            0      0      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 168              1              0            0      1      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 175              1              0            0      1      1      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 182              1              0            0      1      1      1      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 189              1              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 196              1              0            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201              0              1            0      0      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 208              0              1            0      1      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 215              0              1            0      1      1      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 222              0              1            0      1      1      1      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 229              0              1            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 236              0              1            0      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 241              0              0            1      0      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 248              0              0            1      1      0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 255              0              0            1      1      1      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 262              0              0            1      1      1      1      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 269              0              0            1      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 276              0              0            1      1      1      1      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     cweek5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 102      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 109      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 121      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 128      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 135      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 142      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 149      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 156      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 161      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 168      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 175      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 182      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 189      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 196      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 208      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 215      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 222      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 229      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 236      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 241      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 248      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 255      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 262      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 269      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 276      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]  1  1  1  1  1  1  1  2  2  2  2  2  2  2  3  3  3  3  3  3  3  4  4  4  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26]  4  4  4  5  5  5  5  5  5  5  6  6  6  6  6  7  7  7  7  7  7  7  8  8  8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51]  8  8  8  8  9  9  9  9  9  9  9 10 10 10 10 10 10 10 11 11 11 11 11 11 11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76] 12 12 12 12 12 13 13 13 13 13 13 13 14 14 14 14 14 14 14 15 15 15 15 15 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [101] 15 16 16 16 16 16 16 16 17 17 17 17 17 17 17 18 18 18 18 18 19 19 19 19 19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [126] 19 19 20 20 20 20 20 20 20 21 21 21 21 21 21 21 22 22 22 22 22 22 22 23 23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [151] 23 23 23 23 23 24 24 24 24 24 25 25 25 25 25 25 25 26 26 26 26 26 26 26 27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [176] 27 27 27 27 27 27 28 28 28 28 28 28 28 29 29 29 29 29 29 29 30 30 30 30 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [201] 31 31 31 31 31 31 31 32 32 32 32 32 32 32 33 33 33 33 33 33 33 34 34 34 34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [226] 34 34 34 35 35 35 35 35 35 35 36 36 36 36 36 37 37 37 37 37 37 37 38 38 38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [251] 38 38 38 38 39 39 39 39 39 39 39 40 40 40 40 40 40 40 41 41 41 41 41 41 41</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [276] 42 42 42 42 42</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~0 + fixed + age_group + rw__week"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    fixed age_group rw__week</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0         1        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      0         1        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      0         1        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      0         1        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      0         1        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      0         1        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      0         1        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      0         0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      0         0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     0         0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     0         0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     0         0        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assign")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1  2  3  4  5  6  7  8  9 10 11 12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "enw_formula" "list"       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model defined without a sparse fixed effects design matrix</span></span></span>
<span class="r-in"><span><span class="fu">enw_formula</span><span class="op">(</span><span class="op">~</span><span class="fl">1</span>, <span class="va">data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, <span class="op">]</span>, sparse <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$rw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $expanded_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    (Intercept)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assign")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      (Intercept)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assign")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> integer(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "enw_formula" "list"       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Model using an interaction in the right hand side of a random effect</span></span></span>
<span class="r-in"><span><span class="co"># to specify an independent random effect per strata.</span></span></span>
<span class="r-in"><span><span class="fu">enw_formula</span><span class="op">(</span><span class="op">~</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">day</span> <span class="op">|</span> <span class="va">week</span><span class="op">:</span><span class="va">month</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~(1 + day | week:month)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$random[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 + day | week:month</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $parsed_formula$rw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> character(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $expanded_formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + week:month + day:week:month"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~1 + week:month + day:week:month"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    (Intercept) week0:month0 week1:month0 week2:month0 week3:month0 week4:month0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            1            1            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            1            1            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            1            1            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4            1            1            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5            1            1            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6            1            1            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7            1            1            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8            1            0            1            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9            1            0            1            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10           1            0            1            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11           1            0            1            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12           1            0            1            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13           1            0            1            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14           1            0            1            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15           1            0            0            1            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16           1            0            0            1            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17           1            0            0            1            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18           1            0            0            1            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19           1            0            0            1            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20           1            0            0            1            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21           1            0            0            1            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22           1            0            0            0            1            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23           1            0            0            0            1            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24           1            0            0            0            1            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25           1            0            0            0            1            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26           1            0            0            0            1            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27           1            0            0            0            1            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28           1            0            0            0            1            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29           1            0            0            0            0            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30           1            0            0            0            0            1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40           1            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    week5:month0 week0:month1 week1:month1 week2:month1 week3:month1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6             0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7             0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8             0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9             0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40            0            0            0            0            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    week4:month1 week5:month1 week0:month0:day week1:month0:day week2:month0:day</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             0            0                1                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             0            0                2                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             0            0                3                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             0            0                4                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6             0            0                5                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7             0            0                6                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8             0            0                0                7                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9             0            0                0                8                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10            0            0                0                9                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11            0            0                0               10                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12            0            0                0               11                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13            0            0                0               12                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14            0            0                0               13                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15            0            0                0                0               14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16            0            0                0                0               15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17            0            0                0                0               16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18            0            0                0                0               17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19            0            0                0                0               18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20            0            0                0                0               19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21            0            0                0                0               20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22            0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23            0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24            0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25            0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26            0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27            0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28            0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29            0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30            0            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31            1            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32            1            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33            1            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34            1            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35            1            0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36            0            1                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37            0            1                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38            0            1                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39            0            1                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40            0            1                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    week3:month0:day week4:month0:day week5:month0:day week0:month1:day</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22               21                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23               22                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24               23                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25               24                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26               25                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27               26                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28               27                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29                0               28                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30                0               29                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    week1:month1:day week2:month1:day week3:month1:day week4:month1:day</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                 0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31                0                0                0               30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32                0                0                0               31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33                0                0                0               32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34                0                0                0               33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35                0                0                0               34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40                0                0                0                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    week5:month1:day</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35                0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36               35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37               36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38               37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39               38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40               39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fixed$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  1  2  3  4  5  6  7  8  9 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51] 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76] 36 37 38 39 40  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [101] 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  1  2  3  4  5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [126]  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [151] 31 32 33 34 35 36 37 38 39 40  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [176] 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [201]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [226] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40  1  2  3  4  5  6  7  8  9 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [251] 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [276] 36 37 38 39 40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$formula</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "~0 + fixed + week__month0 + week__month1 + day__week__month0 + day__week__month1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$design</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    fixed week__month0 week__month1 day__week__month0 day__week__month1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0            1            0                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      0            1            0                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      0            1            0                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      0            1            0                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      0            1            0                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      0            1            0                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      0            0            1                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      0            0            1                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      0            0            1                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     0            0            1                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     0            0            1                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     0            0            1                 0                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     0            0            0                 1                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     0            0            0                 1                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     0            0            0                 1                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     0            0            0                 1                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     0            0            0                 1                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     0            0            0                 1                 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19     0            0            0                 0                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20     0            0            0                 0                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21     0            0            0                 0                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22     0            0            0                 0                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23     0            0            0                 0                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24     0            0            0                 0                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"assign")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 3 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $random$index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "enw_formula" "list"       </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>, Adrian Lison, Sebastian Funk, Carl Pearson, Hugo Gruson, Felix Guenther, Michael DeWitt, James Mba Azam, Jessalyn Sebastian.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer></div>





  </body></html>

